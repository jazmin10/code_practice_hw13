<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<title>Survey</title>

	<!-- BOOTSTRAP CSS -->
	<link rel="stylesheet" type="text/css" href="./bootstrap.min.css">

	<!-- JQUERY -->
	<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

	<!-- BOOTSTRAP JS -->
	<script type="text/javascript" src="./bootstrap.min.js"></script>
</head>
<body>

	<div class="container">
		<h1>Survey Questions</h1>
		<hr class="my-4">

		<!-- Form Section -->
		<form>
			<!-- About You Questions -->
			<h3><strong>About You</strong></h3>
		  <div class="form-group">
		    <label for="name-input">Name (required)</label>
		    <input type="text" class="form-control" id="name-input">
		  </div>
		  <div class="form-group">
		    <label for="photo-input">Link to Photo Image (required)</label>
		    <input type="text" class="form-control" id="photo-input">
		  </div>

			<!-- Question 1 -->
		  <h3><strong>Question 1</strong></h3>
		   <div class="form-group">
		    <label for="q1">Your mind is always buzzing with unexplored ideas and plans.</label>
		    <div class="form-row">
			    <div class="col-md-3">
				    <select class="form-control" id="q1">
				    	<option hidden>Select an option</option>
				      <option value="1">1 (strongly disagree)</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5 (strongly agree)</option>
				    </select>
			  	</div>
		  	</div>
			</div>

			<!-- Question 2 -->
		  <h3><strong>Question 2</strong></h3>
		   <div class="form-group">
		    <label for="q2">Generally speaking, you rely more on your experience than your imagination.</label>
		    <div class="form-row">
			    <div class="col-md-3">
				    <select class="form-control" id="q2">
				    	<option hidden>Select an option</option>
				      <option value="1">1 (strongly disagree)</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5 (strongly agree)</option>
				    </select>
			  	</div>
		  	</div>
			</div>

			<!-- Question 3 -->
		  <h3><strong>Question 3</strong></h3>
		   <div class="form-group">
		    <label for="q3">You find it easy to stay relaxed and focused even when there is some pressure.</label>
		    <div class="form-row">
			    <div class="col-md-3">
				    <select class="form-control" id="q2">
				    	<option hidden>Select an option</option>
				      <option value="1">1 (strongly disagree)</option>
				      <option value="2">2</option>
				      <option value="3">3</option>
				      <option value="4">4</option>
				      <option value="5">5 (strongly agree)</option>
				    </select>
			  	</div>
		  	</div>
			</div>

		  <button id="submit-btn" type="button" class="btn btn-primary" data-toggle="modal" data-target="#modal-window">Submit</button>
		</form>

		<hr class="my-4">
		<a href="/api/all">API Friends List</a>
		<span> | </span>
		<a href="https://github.com/jazmin10/code_practice_hw13">GitHub Repo</a>

	</div>

	<!-- Modal -->
	<div class="modal fade" id="modal-window" tabindex="-1" role="dialog" aria-labelledby="modal-title" aria-hidden="true">
	  <div class="modal-dialog modal-dialog-centered" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="modal-title">Meet your new friend</h5>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <div class="modal-body">
	      	<!-- <h2>Test</h2>
	      	<img width="100%" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ59J_XtmaL0r5lMeg5eplcnAicjppaZz8HclkwQWsj7NSu8veXlw">
	      </div> -->
	    </div>
	  </div>
	</div>

	<script type="text/javascript">
		// GLOBAL VARIABLES

		// MAIN PROCESSES

		$('#modal-window').on('shown.bs.modal', function () {
  			console.log("hello");

  			results();
			});

		// FUNCTIONS

		function results() {
			var user = {
				name: $("#name-input").val().trim(),
				photo: $("#photo-input").val().trim(),
				scores: [
					parseInt($("#q1-input").val()),
					parseInt($("#q2-input").val()),
					parseInt($("#q3-input").val())
				]
			};

			$.ajax({
				url: "/api/new",
				method: "POST",
				data: JSON.stringify(user),
				contentType: "application/json"
			}).then(function(data) {
				console.log(data);
			});

	
		} 
	</script>

</body>
</html>